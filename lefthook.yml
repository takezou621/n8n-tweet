pre-commit:
  parallel: true
  commands:
    lint:
      glob: "*.js"
      run: npm run lint:fix {staged_files}
    test-related:
      glob: "*.js"
      run: npm run test -- --findRelatedTests {staged_files} --passWithNoTests

pre-push:
  commands:
    tests:
      run: npm test
    lint-check:
      run: npm run lint

commit-msg:
  commands:
    check-commit:
      run: |
        if ! grep -qE "^(feat|fix|docs|style|refactor|test|chore)(\(.+\))?: .+" "{1}"; then
          echo "Commit message must follow conventional commit format:"
          echo "type(scope): description"
          echo ""
          echo "Types: feat, fix, docs, style, refactor, test, chore"
          echo "Example: feat(auth): add user login functionality"
          exit 1
        fi
