# 要件書

## はじめに

インテリジェント・コンテンツ・キュレーション・ダッシュボードは、n8n-tweetシステムの自動化されたコンテンツ配信を監視・制御・最適化するためのWebベースの管理インターフェースです。この機能により、ユーザーは投稿前のコンテンツを確認し、品質を向上させ、エンゲージメントを最大化できます。

## 要件

### 要件1

**ユーザーストーリー:** システム管理者として、投稿予定のツイートを事前に確認・承認したいので、品質の低いコンテンツが自動投稿されることを防げる

#### 受け入れ基準

1. WHEN システムが新しいツイート候補を生成した時 THEN システムは承認待ちキューにツイートを追加する
2. WHEN 管理者がダッシュボードにアクセスした時 THEN システムは承認待ちのツイート一覧を表示する
3. WHEN 管理者がツイートを承認した時 THEN システムはそのツイートを投稿キューに移動する
4. WHEN 管理者がツイートを拒否した時 THEN システムはそのツイートを削除し、理由をログに記録する

### 要件2

**ユーザーストーリー:** コンテンツマネージャーとして、過去のツイートのパフォーマンスを分析したいので、より効果的なコンテンツ戦略を立てられる

#### 受け入れ基準

1. WHEN ユーザーが分析ページにアクセスした時 THEN システムは過去30日間のツイートパフォーマンス統計を表示する
2. WHEN ツイートが投稿された時 THEN システムはエンゲージメント指標（いいね、リツイート、返信）を追跡する
3. IF ツイートのエンゲージメントが平均を上回る場合 THEN システムは成功パターンを学習データとして保存する
4. WHEN ユーザーがトレンド分析を要求した時 THEN システムは最もパフォーマンスの高いキーワードとトピックを表示する

### 要件3

**ユーザーストーリー:** AI研究者として、特定のトピックやキーワードに基づいてコンテンツをフィルタリングしたいので、関心のある分野の情報のみを配信できる

#### 受け入れ基準

1. WHEN ユーザーがキーワード設定ページにアクセスした時 THEN システムは現在のフィルタリング設定を表示する
2. WHEN ユーザーが新しいキーワードを追加した時 THEN システムはそのキーワードを優先度付きでフィルタリングルールに追加する
3. WHEN コンテンツがフィルタリングされる時 THEN システムは各キーワードの関連度スコアを計算する
4. IF コンテンツの関連度スコアが閾値を下回る場合 THEN システムはそのコンテンツを除外する

### 要件4

**ユーザーストーリー:** ソーシャルメディアマネージャーとして、投稿スケジュールを柔軟に調整したいので、最適なタイミングでコンテンツを配信できる

#### 受け入れ基準

1. WHEN ユーザーがスケジュール設定ページにアクセスした時 THEN システムは現在の投稿スケジュールを表示する
2. WHEN ユーザーが投稿時間を変更した時 THEN システムは新しいスケジュールを保存し、n8nワークフローを更新する
3. WHEN 特定の日時に投稿を一時停止したい時 THEN システムはその期間の投稿をスキップする
4. IF 投稿キューが空の場合 THEN システムは管理者に通知を送信する

### 要件5

**ユーザーストーリー:** 開発者として、システムの健全性とパフォーマンスを監視したいので、問題を早期に発見し対処できる

#### 受け入れ基準

1. WHEN システムエラーが発生した時 THEN システムはエラーログをダッシュボードに表示する
2. WHEN RSS フィードの取得に失敗した時 THEN システムは失敗したフィードと理由を記録する
3. WHEN Twitter API のレート制限に達した時 THEN システムは次の利用可能時間を表示する
4. WHEN システムパフォーマンスが低下した時 THEN システムはアラートを生成し、管理者に通知する

### 要件6

**ユーザーストーリー:** コンテンツ作成者として、ツイートテンプレートをカスタマイズしたいので、ブランドに合った一貫性のあるメッセージを配信できる

#### 受け入れ基準

1. WHEN ユーザーがテンプレート編集ページにアクセスした時 THEN システムは現在のツイートテンプレート一覧を表示する
2. WHEN ユーザーが新しいテンプレートを作成した時 THEN システムはテンプレートを保存し、生成エンジンで利用可能にする
3. WHEN テンプレートが使用される時 THEN システムは動的変数（タイトル、URL、ハッシュタグ）を適切に置換する
4. IF テンプレートが280文字を超える場合 THEN システムは警告を表示し、自動的に短縮する